name: XP Automation

on: workflow_dispatch

jobs:
  debug:
    runs-on: ubuntu-latest
    steps:
      - name: Test all possible formats
        run: |
          TOKEN="${{ secrets.DUOLINGO_TOKEN }}"
          
          # Format 1: Simple
          echo "Format 1: Simple"
          curl -s -X POST https://api.duolingopro.net/request \
            -H "Authorization: Bearer $TOKEN" \
            -d '{"xp": 10}'
          
          # Format 2: With action
          echo -e "\nFormat 2: With action"
          curl -s -X POST https://api.duolingopro.net/request \
            -H "Authorization: Bearer $TOKEN" \
            -H "Content-Type: application/json" \
            -d '{"action": "gainXP", "value": 10}'
          
          # Format 3: Array format
          echo -e "\nFormat 3: Array format"
          curl -s -X POST https://api.duolingopro.net/request \
            -H "Authorization: Bearer $TOKEN" \
            -H "Content-Type: application/json" \
            -d '[{"method": "xp.gain", "params": [10]}]'
          
          # Format 4: Try different endpoint
          echo -e "\nFormat 4: Different endpoint"
          curl -s -X POST https://api.duolingopro.net/api/v1/xp \
            -H "Authorization: Bearer $TOKEN" \
            -H "Content-Type: application/json" \
            -d '{"amount": 10}'
